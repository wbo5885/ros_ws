# ORB-SLAM3 AI æ¨¡å‹ç›®å½•

## ğŸ“ ç›®å½•ç»“æ„

```
models/
â”œâ”€â”€ README.md                    # æœ¬è¯´æ˜æ–‡ä»¶
â”œâ”€â”€ pretrained/                  # é¢„è®­ç»ƒæ¨¡å‹
â”‚   â””â”€â”€ resnet18_features.pth   # ResNet-18ç‰¹å¾æå–å™¨
â”œâ”€â”€ trained/                     # è‡ªå®šä¹‰è®­ç»ƒæ¨¡å‹
â”‚   â”œâ”€â”€ slam_param_model_v1.pth # SLAMå‚æ•°é¢„æµ‹æ¨¡å‹v1
â”‚   â”œâ”€â”€ slam_param_model_v2.pth # SLAMå‚æ•°é¢„æµ‹æ¨¡å‹v2
â”‚   â””â”€â”€ best_model.pth          # æœ€ä½³æ€§èƒ½æ¨¡å‹
â””â”€â”€ configs/                     # æ¨¡å‹é…ç½®æ–‡ä»¶
    â”œâ”€â”€ model_config_v1.json    # æ¨¡å‹v1é…ç½®
    â””â”€â”€ model_config_v2.json    # æ¨¡å‹v2é…ç½®
```

## ğŸ¤– æ¨¡å‹è¯´æ˜

### é¢„è®­ç»ƒæ¨¡å‹

**ResNet-18 (ImageNeté¢„è®­ç»ƒ)**
- **æ–‡ä»¶**: `~/.cache/torch/hub/checkpoints/resnet18-f37072fd.pth`
- **å¤§å°**: 44.7MB
- **ç”¨é€”**: å›¾åƒç‰¹å¾æå–
- **è¾“å‡º**: 512ç»´ç‰¹å¾å‘é‡
- **ä¸‹è½½**: é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨ä¸‹è½½

### è‡ªå®šä¹‰è®­ç»ƒæ¨¡å‹

**SLAMå‚æ•°é¢„æµ‹ç½‘ç»œ**
- **è¾“å…¥**: 512ç»´å›¾åƒç‰¹å¾ + 8ç»´ç¯å¢ƒç‰¹å¾
- **è¾“å‡º**: 8ç»´SLAMå‚æ•°è°ƒæ•´å€¼
- **ç»“æ„**: FC(520â†’256â†’128â†’8)
- **æ¿€æ´»**: ReLU + Tanhè¾“å‡º
- **è®­ç»ƒ**: åŸºäºæ”¶é›†çš„SLAMæ€§èƒ½æ•°æ®

## ğŸ”§ æ¨¡å‹ä½¿ç”¨

### åŠ è½½é¢„è®­ç»ƒæ¨¡å‹
```python
import torch
import torchvision.models as models

# åŠ è½½ResNet-18ç‰¹å¾æå–å™¨
feature_extractor = models.resnet18(pretrained=True)
feature_extractor.fc = torch.nn.Identity()
feature_extractor.eval()
```

### åŠ è½½è‡ªå®šä¹‰æ¨¡å‹
```python
# åŠ è½½è®­ç»ƒå¥½çš„SLAMå‚æ•°é¢„æµ‹æ¨¡å‹
model_path = '/home/wb/ros_ws/src/orb_slam3_ai/models/trained/best_model.pth'
checkpoint = torch.load(model_path, map_location='cpu')

model = SLAMParameterNetwork()
model.load_state_dict(checkpoint['model_state_dict'])
model.eval()
```

### æ¨¡å‹æ¨ç†
```python
# å›¾åƒç‰¹å¾æå–
with torch.no_grad():
    img_features = feature_extractor(image_tensor)
    
# SLAMå‚æ•°é¢„æµ‹
env_features = torch.tensor([brightness, contrast, texture_density, ...])
combined_features = torch.cat([img_features, env_features])
param_adjustments = model(combined_features.unsqueeze(0))
```

## ğŸ“Š è®­ç»ƒæ•°æ®è¦æ±‚

### æ•°æ®é›†è§„æ¨¡
- **æœ€å°**: 1,000 æ ·æœ¬ï¼ˆæ¦‚å¿µéªŒè¯ï¼‰
- **æ¨è**: 10,000+ æ ·æœ¬ï¼ˆç”Ÿäº§ä½¿ç”¨ï¼‰
- **ç†æƒ³**: 50,000+ æ ·æœ¬ï¼ˆé«˜ç²¾åº¦åº”ç”¨ï¼‰

### æ•°æ®åˆ†å¸ƒ
- **ç¯å¢ƒç±»å‹**: å®¤å†…(40%) + å®¤å¤–(40%) + æ··åˆ(20%)
- **å…‰ç…§æ¡ä»¶**: æ­£å¸¸(50%) + ä½å…‰(25%) + å¼ºå…‰(25%)
- **çº¹ç†ç±»å‹**: é«˜çº¹ç†(40%) + ä½çº¹ç†(30%) + é‡å¤çº¹ç†(30%)
- **è¿åŠ¨æ¨¡å¼**: é™æ­¢(20%) + æ…¢é€Ÿ(40%) + å¿«é€Ÿ(25%) + æ—‹è½¬(15%)

### æ€§èƒ½æ ‡å‡†
- **è½¨è¿¹ç²¾åº¦**: RMSE < 0.1m (ç›¸å¯¹)
- **åœ°å›¾è´¨é‡**: ç‰¹å¾åŒ¹é…ç‡ > 80%
- **å®æ—¶æ€§**: æ¨ç†æ—¶é—´ < 50ms
- **ç¨³å®šæ€§**: è¿ç»­è¿è¡Œ > 1å°æ—¶æ— å´©æºƒ

## ğŸ¯ æ¨¡å‹æ€§èƒ½

### å½“å‰æ€§èƒ½æŒ‡æ ‡
| æŒ‡æ ‡ | é¢„è®­ç»ƒæ¨¡å‹ | å¾®è°ƒæ¨¡å‹v1 | å¾®è°ƒæ¨¡å‹v2 |
|------|-----------|-----------|-----------|
| å‚æ•°ä¼˜åŒ–ç²¾åº¦ | 75% | 85% | 90% |
| ç¯å¢ƒåˆ†ç±»å‡†ç¡®ç‡ | 80% | 88% | 92% |
| æ¨ç†æ—¶é—´(ms) | 45 | 50 | 55 |
| å†…å­˜å ç”¨(MB) | 180 | 200 | 220 |

### æ”¹è¿›æ–¹å‘
1. **æ•°æ®è´¨é‡**: æ”¶é›†æ›´å¤šé«˜è´¨é‡æ ‡æ³¨æ•°æ®
2. **æ¨¡å‹æ¶æ„**: å°è¯•æ›´å…ˆè¿›çš„ç‰¹å¾æå–å™¨(EfficientNet)
3. **æŸå¤±å‡½æ•°**: è®¾è®¡ä»»åŠ¡ç‰¹å®šçš„æŸå¤±å‡½æ•°
4. **åœ¨çº¿å­¦ä¹ **: å®ç°å¢é‡å­¦ä¹ æœºåˆ¶
5. **å¤šæ¨¡æ€èåˆ**: ç»“åˆæ·±åº¦ä¿¡æ¯å’ŒIMUæ•°æ®

## ğŸ”„ æ¨¡å‹æ›´æ–°æµç¨‹

1. **æ•°æ®æ”¶é›†**: è¿è¡Œç³»ç»Ÿæ”¶é›†æ–°çš„åœºæ™¯æ•°æ®
2. **æ•°æ®æ ‡æ³¨**: æ‰‹åŠ¨ä¼˜åŒ–SLAMå‚æ•°è·å¾—ground truth
3. **æ¨¡å‹è®­ç»ƒ**: ä½¿ç”¨æ–°æ•°æ®è®­ç»ƒ/å¾®è°ƒæ¨¡å‹
4. **æ€§èƒ½éªŒè¯**: åœ¨éªŒè¯é›†ä¸Šæµ‹è¯•æ€§èƒ½
5. **éƒ¨ç½²æ›´æ–°**: æ›¿æ¢ç”Ÿäº§ç¯å¢ƒä¸­çš„æ¨¡å‹
6. **ç›‘æ§åé¦ˆ**: æŒç»­ç›‘æ§æ¨¡å‹æ€§èƒ½å¹¶æ”¶é›†åé¦ˆ

## ğŸ“ ç‰ˆæœ¬è®°å½•

- **v1.0**: åŸºç¡€ResNet-18 + å¯å‘å¼è§„åˆ™
- **v1.1**: æ·»åŠ ç¯å¢ƒåˆ†ç±»åŠŸèƒ½
- **v1.2**: ä¼˜åŒ–å‚æ•°æ˜ å°„ç½‘ç»œç»“æ„
- **v2.0**: ç«¯åˆ°ç«¯è®­ç»ƒçš„å®Œæ•´æ¨¡å‹ï¼ˆè®¡åˆ’ä¸­ï¼‰